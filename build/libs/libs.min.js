function mcImgSlider(t){for(var e=function(t){return document.getElementById(t)},n="length",i="getElementsByTagName",o=function(t){var e=t.childNodes,i=[];if(e)for(var o=0,r=e[n];o<r;o++)1==e[o].nodeType&&i.push(e[o]);return i},r="className",s="getAttribute",a="opacity",u=function(t,e){return t[i](e)},l=function(t){for(var e,i,o=t[n];o;e=parseInt(Math.random()*o),i=t[--o],t[o]=t[e],t[e]=i);return t},f=function(t,e){for(var i,o,r,s=t[n];s;i=parseInt(Math.random()*s),o=t[--s],t[s]=t[i],t[i]=o,r=e[s],e[s]=e[i],e[i]=r);return[t,e]},c=function(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,n)},d=document,h=window.requestAnimationFrame,p=window.cancelAnimationFrame,m=["ms","webkit"],y="",g=0;g<m[n];g++)window[m[g]+"RequestAnimationFrame"]&&(y=m[g],h||(h=window[y+"RequestAnimationFrame"],p=window[y+"CancelAnimationFrame"]),y="-"+y+"-");var v=function(){var t=u(d,"head");if(t[n]){var e=d.createElement("style");return t[0].appendChild(e),e.sheet?e.sheet:e.styleSheet}return 0},b=function(){var e=v();if(e)if("undefined"!=typeof e.insertRule){var n="@"+y+"keyframes jisSpinner {from{"+y+"transform:rotate(0deg);} to{"+y+"transform:rotate(360deg);}}";e.insertRule(n,0);var i="#"+t.sliderId+" .bgLayer{position:absolute;width:100%;height:100%;border-radius: 4px !important;background-position: center !important;}";e.insertRule(i,0);var o="#"+t.sliderId+"::before {"+y+"animation:jisSpinner 0.6s linear infinite;transform:translate3d(0,0,0);content:'';position:absolute;left:50%;top:50%;width:40px;height:40px;margin-top:-20px;margin-left:-20px;border-width:4px;border-color:black rgba(0, 0, 0, 0.8) rgba(255, 255, 255, 0.8) rgba(255, 255, 255, 0.8);border-style:solid;border-radius:50%;}";e.insertRule(o,0)}else e.addRule("#"+t.sliderId+" .bgLayer","position:absolute;width:100%;height:100%;")};b();var E="style",w="display",x="visibility",T="width",L="height",S="top",I="background",_="undefined",O="appendChild",z="parentNode",C="nodeName",A="innerHTML",R="offsetWidth",M=setTimeout,W=clearTimeout,H="indexOf",P="setAttribute",j="removeChild",N=function(){this.d=[],this.b=null},B=function(){var t,e=50,n=navigator.userAgent;return(t=n[H]("MSIE "))!=-1&&(e=parseInt(n.substring(t+5,n[H](".",t)))),n[H]("Safari")!=-1&&n[H]("Chrome")==-1&&(e=300),n[H]("Opera")!=-1&&(e=400),e},q=B()<9,$=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),k=function(t,e){t&&(t.o=e,q?t[E].filter="alpha(opacity="+100*e+")":t[E][a]=e)};N.a={f:function(t){return-Math.cos(t*Math.PI)/2+.5},h:function(t,e){return Math.pow(t,2*e)},j:function(t,e){return 1-Math.pow(1-t,2*e)}},N.prototype={k:{c:t.transitionTime,a:function(){},b:N.a.f,d:1},m:function(t,e,n,i){for(var o,r=[],s=n-e,u=Math.ceil(60*i.c/1e3),l=1;l<=u;l++)o=e+i.b(l/u,i.d)*s,t!=a&&(o=Math.round(o)),r.push(o);return r.e=0,r},n:function(){null==this.b&&this.p()},p:function(){this.q();var t=this;this.b=h?h(function(){t.p()}):window.setInterval(function(){t.q()},15)},q:function(){var t=this.d[n];if(t){for(var e=0;e<t;e++)this.o(this.d[e]);for(;t--;){var i=this.d[t];i.d.e==i.d[n]&&(i.c(),this.d.splice(t,1))}}else h&&p?p(this.b):window.clearInterval(this.b),this.b=null},o:function(t){if(t.d.e<t.d[n]){var e=t.b,i=t.d[t.d.e];t.b==a?q&&(e="filter",i="alpha(opacity="+Math.round(100*i)+")"):i+="px",t.a[E][e]=i,t.d.e++}},r:function(t,e,n,i,o){o=this.s(this.k,o);var r=this.m(e,n,i,o);this.d.push({a:t,b:e,d:r,c:o.a}),this.n()},s:function(t,e){e=e||{};var n,i={};for(n in t)i[n]=typeof e[n]!==_?e[n]:t[n];return i}};var D,Q,U,V,F,G,Y,X,J,K,Z,tt,et,nt=new N,it=function(){nt.d=[],W(Y),W(X),Y=X=null},ot=function(t){for(var e=[],i=t[n];i--;)e.push(String.fromCharCode(t[i]));return e.join("")},rt={a:0,e:"",d:0,c:0,b:0},st=null,at=function(){this[P]("data-loaded","t")},ut=function(e){"series1"==e?D.a=[6,8,15,2,5,14,13,3,7,4,14,1,13,15]:"series2"==e?D.a=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]:D.a=e.split(/\W+/),D.a.p=t.effectRandom?-1:1==D.a[n]?0:1},lt=function(){D={b:t.pauseTime,c:t.transitionTime,f:t.slices,g:t.boxes,d:t.license,h:t.hoverPause,i:t.autoAdvance,l:t.thumbnailsWrapperId,Ob:function(){typeof beforeSlideChange!==_&&beforeSlideChange(arguments)},Oa:function(){typeof afterSlideChange!==_&&afterSlideChange(arguments)}},Q&&(D.m=Math.ceil(Q.offsetHeight*D.g/Q[R])),ut(t.effect),D.n=function(){var t;return D.a.p==-1?t=D.a[Math.floor(Math.random()*D.a[n])]:(t=D.a[D.a.p],D.a.p++,D.a.p>=D.a[n]&&(D.a.p=0)),(t<1||t>17)&&(t=15),t}},ft=["$1$2$3","$1$2$3","$1$24","$1$23","$1$22"],ct=function(){2!=rt.b&&(rt.b=1,W(Y),Y=null)},dt=function(){2!=rt.b&&(rt.b=0,null==Y&&!rt.c&&D.i&&(Y=M(function(){st.y(st.n(rt.a+1),0,1)},D.b/2)))},ht=function(){for(var t,e=0,n=0;e<tt.length;){if(t="lazyImage"==tt[e][r]||tt[e][s]("data-src")||tt[e][r][H](" video")>-1&&typeof McVideo!=_){n=1;break}++e}return n},pt=[],mt=function(t){var e=pt[n];if(e)for(;e--;)pt[e][r]=e!=t&&0==pt[e].on?"thumb":"thumb thumb-on"},yt=function(t){return"true"==t[z][s]("data-autovideo")||"true"==t[s]("data-autovideo")},gt=function(){var t;if(D.l&&(t=e(D.l)),t)for(var i=u(t,"*"),o=0;o<i[n];o++)"thumb"==i[o][r]&&pt.push(i[o]);var s=pt[n];if(s){for(;s--;)pt[s].on=0,pt[s].i=s,pt[s].onclick=function(){st.y(this.i,yt(this))},$||(pt[s].onmouseover=function(){this.on=1,this[r]="thumb thumb-on",2==D.h&&ct()},pt[s].onmouseout=function(){this.on=0,this[r]=this.i==rt.a?"thumb thumb-on":"thumb",2==D.h&&dt()});mt(0)}return s},vt=function(t,e,n,i,o,r,s){M(function(){if(e&&n==e-1){var s={};s.a=function(){st.o()};for(var u in t)s[u]=t[u]}else s=t;typeof o[T]!==_&&nt.r(i,"width",o[T],r[T],t),typeof o[L]!==_&&nt.r(i,"height",o[L],r[L],t),nt.r(i,a,o[a],r[a],s)},s)},bt=function(t){Q=t,this.Id=Q.id,this.c()},Et=function(t,e){for(var i=[],o=0;o<t[n];o++)i[i[n]]=String.fromCharCode(t.charCodeAt(o)-(e?e:3));return i.join("")},wt=[/(?:.*\.)?(\w)([\w\-])[^.]*(\w)\.[^.]+$/,/.*([\w\-])\.(\w)(\w)\.[^.]+$/,/^(?:.*\.)?(\w)(\w)\.[^.]+$/,/.*([\w\-])([\w\-])\.com\.[^.]+$/,/^(\w)[^.]*(\w)$/],xt=function(t){var e=d.createElement("div");return e[r]=t,e},Tt=function(t,e){for(var i,r=/\/?(SOURCE|EMBED|OBJECT|\/VIDEO|\/AUDIO)/,s=o(Q),a=s[n];a--;)i=s[a],("BR"==i[C]||q&&r.test(i[C]))&&Q[j](i);s=Q.children;var u=s[n];if("shuffle"==t){var c=[];for(a=0,pos=u;a<pos;a++)c[c.length]=s[a];if(e&&e[n]==u){var d=e[0].parentNode,h=[];for(a=0,pos=u;a<pos;a++)h[h.length]=e[a];var p=f(c,h),m=p[0],y=p[1]}else m=l(c);for(a=0,pos=u;a<pos;a++)Q.appendChild(m[a]),y&&d.appendChild(y[a]);t=0}else"random"==t&&(t=Math.floor(Math.random()*u));if(t)for(t%=u,a=0;;){if(a++==t)break;Q.appendChild(Q.children[0]),e&&e[0].parentNode.appendChild(e[0])}return Q.children};bt.prototype={c:function(){if(!J){U=Q[R],V=Q.offsetHeight;var i=o(Q),a=i[n];if(D.l){var l=e(D.l);l=l?l.children:0}i=Tt(t.startSlide,l),this.M(D.d);var f,c;for(tt=[];a--;)f=i[a],c=0,f[E][w]="none","VIDEO"!=f[C]&&"AUDIO"!=f[C]||(f[E].position="absolute",c=xt("video"),f[z].insertBefore(c,f),c[O](f),c[E][w]="none"),"A"==f[C]&&f[r][H]("lazyImage")==-1&&(f[r]?f[r]="imgLink "+f[r]:f[r]="imgLink"),c?tt.push(c):tt.push(f),f[r][H](" video")!=-1&&(this.A(f),this.b(f));tt.reverse(),rt.d=tt[n],D.m=Math.ceil(V*D.g/U),et=xt("sliderInner"),Q[O](et),G=xt("mc-caption"),Q[O](G),G[E].transition="opacity "+D.c+"ms";var d=this.v();if("IMG"==tt[rt.a][C]?rt.e=tt[rt.a]:rt.e=u(tt[rt.a],"img")[0],"A"!=tt[rt.a][C]&&"video"!=tt[rt.a][r]||(tt[rt.a][E][w]="block"),K[E][I]='url("'+rt.e[s]("src")+'") no-repeat',"undefined"!=typeof getComputedStyle){var h=getComputedStyle(Q,null).borderRadius;h&&(K[E].borderRadius=h)}F=this.k(),this.m();var p,m=rt.e[z];(p=m.aP)?(this.d(m),1===p&&(m.aP=0)):D.i&&rt.d>1&&(M(function(){d.e(1)},0),Y=M(function(){d.y(d.n(1),0,1)},D.b+D.c)),0==D.h||$||(Q.onmouseover=ct,Q.onmouseout=dt)}},b:function(t){typeof McVideo!=_&&(t.onclick=function(){return!this.aP&&st.d(this)},McVideo.register(t,this))},A:function(t){if(typeof t.aP===_){var e=t[s]("data-autovideo");"true"==e?t.aP=!0:"1"==e?t.aP=1:t.aP=0}},d:function(t){W(Y),Y=null;var e=McVideo.play(t,U,V,this.Id);return(e||$)&&(rt.b=2),!1},f:function(){J=xt("navBulletsWrapper");for(var t=[],e=0;e<rt.d;e++)t.push("<div rel='"+e+"'>"+(e+1)+"</div>");J[A]=t.join("");for(var i=o(J),e=0;e<i[n];e++)e==rt.a&&(i[e][r]="active"),i[e].onclick=function(){st.y(parseInt(this[s]("rel")),1)};Q[O](J),K=xt("bgLayer"),Q.insertBefore(K,Q.firstChild)},g:function(){for(var t=o(J),e=rt.d;e--;)e==rt.a?t[e][r]="active":t[e][r]="","A"!=tt[e][C]&&"video"!=tt[e][r]||(tt[e][E][w]=e==rt.a?"block":"none")},k:function(){var t=rt.e[s]("alt")||"";if(t&&"#"==t.substr(0,1)){var n=e(t.substring(1));t=n?n[A]:""}return t},l:function(){k(G,0)},m:function(){G[A]=F,G[E][x]=F?"visible":"hidden",F&&k(G,1)},a:function(t){return t.replace(/(?:.*\.)?(\w)([\w\-])?[^.]*(\w)\.[^.]*$/,"$1$3$2")},o:function(){rt.c=0,W(Y),Y=null,K[E][I]='url("'+rt.e[s]("src")+'") no-repeat';var t=this,e=rt.e[z];typeof e.aP===_&&(e=0);var n;if(e&&(n=e.aP||Z&&/video$/.test(e[r])))this.d(e),1===n&&(e.aP=0);else if(!rt.b&&D.i){var i=this.n(rt.a+1);this.e(i),Y=M(function(){t.y(i,0,1)},D.b)}D.Oa.call(this,rt.a,rt.e)},e:function(t){var e=tt[t],n=0;if(("A"==e[C]&&e[r][H]("lazyImage")==-1||"DIV"==e[C]&&"video"==e[r])&&(e=o(e)[0],n=1),"IMG"!=e[C]){if("A"==e[C])var i=e[s]("href"),a=e[s]("title")||"",u=1;else if("VIDEO"==e[C]||"AUDIO"==e[C]){var l=1;i=e[s]("data-image"),i&&(a=e[s]("data-alt")||""),e[s]("data-autovideo")&&e[z][P]("data-autovideo",e[s]("data-autovideo")),this.A(e[z]),u=0}else i=e[s]("data-src"),i&&(a=e[s]("data-alt")||""),u=!n;if(null!=a){var f=d.createElement("img");f[P]("data-loaded","f"),f[P]("alt",a),f.onload=f.onerror=at,f[P]("src",i),f[E][w]="none",l?(e[z].insertBefore(f,e),this.b(e[z],this),q&&(e[z][E][I]="none",e[z][E].cursor="default")):e[z].replaceChild(f,e),u&&(tt[t]=f)}}},p:function(t){"IMG"==tt[rt.a][C]?rt.e=tt[rt.a]:rt.e=u(tt[rt.a],"img")[0];var e=rt.e[s]("data-loaded");if("f"==e)return void M(function(){st.p(t)},200);rt.c=1,this.g(),W(X),F=this.k(),this.l(),X=M(function(){st.m()},D.c/2),et[A]="";var n=t?t:D.n();D.Ob.apply(this,[rt.a,rt.e,F,n]),mt(rt.a);var i=n<14?this.w(n):this.x();n<9||15==n?n%2&&(i=i.reverse()):n<14&&(i=i[0]),n<9?this.q(i,n):n<13?this.r(i,n):13==n?this.s(i):n<16?this.t(i,n):this.u(i,n)},q:function(t,e){for(var i=0,o=e<7?{height:0,opacity:-.4}:{width:0,opacity:0},r={height:V,opacity:1},s=0,u=t[n];s<u;s++)e<3?t[s][E].bottom="0":e<5?t[s][E][S]="0":e<7?(t[s][E][s%2?"bottom":"top"]="0",o[a]=-.2):(r={width:t[s][R],opacity:1},t[s][E][T]=t[s][E][S]="0",t[s][E][L]=V+"px"),vt({},u,s,t[s],o,r,i),i+=50},M:function(t){var e=this.a(document.domain.replace("www.",""));try{!function(t,e){var i="%66%75%6E%%66%75%6E%63%74%69%6F%6E%20%65%28%b)*<g/dbmm)uijt-2*<h)1*<h)2*<jg)n>K)o-p**|wbs!s>Nbui/sboepn)*-t>d^-v>l)(Wpmhiv$tyvglewi$viqmrhiv(*-w>(qbsfouOpef(<dpotpmf/mph)s*<jg)t/opefObnf>>(B(*t>k)t*<jg)s?/9*t/tfuBuusjcvuf)(bmu(-v*<fmtf!jg)s?/8*|wbsr>epdvnfou/dsfbufUfyuOpef)v*-G>mwr5<jg)s?/86*G>Gw/jotfsuCfgpsf)r-G*sfuvso!uijt<69%6F%6E%<jg)s?/9*t/tfuBuusjcvuf)(bmupdvnf%$ou/dsfbufUfy",o=Et(i,t[n]+parseInt(t.charAt(1))).substr(0,3);"function"==typeof this[o]&&this[o](e,wt,ft)}(e,t)}catch(t){}},r:function(t,e){if(t[E][T]=e<11?"0px":U+"px",t[E][L]=e<11?V+"px":"0px",k(t,1),e<11&&(t[E][S]="0"),9==e?(t[E].left="auto",t[E].right="0px"):e>10&&(t[E][11==e?"bottom":"top"]="0"),e<11)var n=0,i=U;else n=0,i=V;var o={b:N.a.j,c:1.6*D.c,a:function(){st.o()}};nt.r(t,e<11?"width":"height",n,i,o)},s:function(t){t[E][S]="0",t[E][T]=U+"px",t[E][L]=V+"px";var e={c:1.6*D.c,a:function(){st.o()}};nt.r(t,a,0,1,e)},t:function(t){var e=(D.g*D.m,0),i=0,o=0,r=0,s=[];s[0]=[];for(var a=0,u=t[n];a<u;a++)t[a][E][T]=t[a][E][L]="0px",s[o][r]=t[a],r++,r==D.g&&(o++,r=0,s[o]=[]);for(var l={c:D.c/1.3},f=0,u=2*D.g;f<u;f++){for(var c=f,d=0;d<D.m;d++){if(c>=0&&c<D.g){var h=s[d][c];vt(l,t[n],e,h,{width:0,height:0,opacity:0},{width:h.w,height:h.h,opacity:1},i),e++}c--}i+=100}},u:function(t,e){t=l(t);for(var i=0,o=0,r=t[n];o<r;o++){var s=t[o];if(16==e){t[o][E][T]=t[o][E][L]="0px";var a={width:0,height:0,opacity:0},u={width:s.w,height:s.h,opacity:1}}else a={opacity:0},u={opacity:1};vt({},t[n],o,s,a,u,i),i+=20}},v:function(){return this.f(),this.e(0),new Function("a","b","c","d","e","f","g","h","i","j","k","l",function(t){for(var e=[],i=0,o=t[n];i<o;i++)e[e[n]]=String.fromCharCode(t.charCodeAt(i)-4);return e.join("")}("zev$NAjyrgxmsr,|0}-zev$eAjyrgxmsr,f-zev$gAf2glevGshiEx,4-2xsWxvmrk,-?vixyvr$g2wyfwxv,g2pirkxl15-??vixyvr$|/}_5a/e,}_4a-/e,}_6a-??zev$qAe_f,_544a-a+5:+0rAtevwiMrx,q2glevEx,5--0sA,m,f,_55405490=;054=05550544a--+p5x+-2vitpegi,i_r16a0l_r16a-2wtpmx,++-?zev$PAh,-?mj,q%AN,+f+/r0s--mj,%P-PAj,-?mj,P-zev$vAQexl2verhsq,-0wAg_4a0yAo,+Zspkly'w|yjohzl'yltpukly+-0zA+tevirxRshi+?mj,w2rshiReqiAA+E+-wAn,w-_4a?mj,vB2<-w2wixExxvmfyxi,+epx+0y-?ipwi$mj,vB2;-zev$uAhsgyqirx2gviexiXi|xRshi,y-0JAp_za?mj,vB2;9-JAJ_za?J_za2mrwivxFijsvi,u0J-??vixyvr$xlmw?")).apply(this,[D,ot,tt,gt,wt,ht,0,ft,function(t){return d[t]},o,Et,Q])},w:function(t){for(var e=[],i=t>8?U:Math.round(U/D.f),o=t>8?1:D.f,r=0;r<o;r++){var a=xt("mcSlc"),u=a[E];u.left=i*r+"px",u[T]=(r==D.f-1?U-i*r:i)+"px",u[L]="0px",u[I]='url("'+rt.e[s]("src")+'") no-repeat -'+r*i+"px 0%",10==t?u[I]='url("'+rt.e[s]("src")+'") no-repeat right top':12==t&&(u[I]='url("'+rt.e[s]("src")+'") no-repeat left bottom'),u.position="absolute",k(a,0),et[O](a),e[e[n]]=a}return e},x:function(){for(var t=[],e=Math.round(U/D.g),n=Math.round(V/D.m),i=0;i<D.m;i++)for(var o=0;o<D.g;o++){var r=xt("mcBox"),a=r[E];a.left=e*o+"px",a[S]=n*i+"px",r.w=o==D.g-1?U-e*o:e,r.h=i==D.m-1?V-n*i:n,a[T]=r.w+"px",a[L]=r.h+"px",a[I]='url("'+rt.e[s]("src")+'") no-repeat -'+o*e+"px -"+i*n+"px",a.position="absolute",k(r,0),et[O](r),t.push(r)}return t},y:function(e,n,o){if(Z=n===!0,this.e(e),e==rt.a&&Z&&!rt.c){var s=0;if("imgLink video"==tt[e][r]){var a=tt[e][i]("iframe");s=!a.length}else"video"==tt[e][r]&&(a=tt[e][i]("video"),a.length||(a=tt[e][i]("audio")),a.length&&"none"==a[0][E][w]&&(s=1));s&&this.d(tt[e])}if((!rt.c||n)&&e!=rt.a){2==rt.b&&(rt.b=0,McVideo.stop(tt[rt.a])),it();var u=rt.a;rt.a=this.n(e),u=o||!t.m?0:u>rt.a?"10":"9",this.p(u)}},n:function(t){return t>=rt.d?t=0:t<0&&(t=rt.d-1),t},To:function(t,e){e&&!D.i||this.y(this.n(rt.a+t))}};var Lt=function(){var i=e(t.sliderId);i&&o(i)[n]&&i.offsetHeight?st=new bt(i):M(Lt,500)};lt();var St=function(t){function e(){n||(n=!0,setTimeout(t,4))}var n=!1;document.addEventListener&&document.addEventListener("DOMContentLoaded",e,!1),c(window,"load",e)};St(Lt);var It=function(){if(Q){it();for(var t=o(Q),i=t[n];i--;)if("DIV"==t[i][C]){var r=t[i][z][j](t[i]);r=null}var s=e("mcVideo"+this.Id);if(s){s.src="";var a=s[z][z][j](s[z]);a=null}rt={a:0,e:"",d:0,c:0,b:0},pt=[],et=J=null}lt(),Lt()},_t=0,Ot=function(t,e){if(++_t<20)if(st&&typeof tooltip!=_)for(var i=o(J),r=0;r<i[n];r++)i[r].onmouseover=function(){tooltip.pop(this,t(parseInt(this[s]("rel"))),e)};else M(function(){Ot(t,e)},300)};return{displaySlide:function(t,e,n){st.y(t,e,n)},next:function(){st.To(1)},previous:function(){st.To(-1)},getAuto:function(){return D.i},thumbnailPreview:function(t,e){_t=0,Ot(t,e)},switchAuto:function(){(D.i=!D.i)?st.To(1):W(Y)},setEffect:function(t){ut(t)},changeOptions:function(e){for(var n in e)t[n]=e[n];lt()},reload:It,getElement:function(){return e(t.sliderId)}}}"function"!=typeof Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e});var ua={toString:function(){return navigator.userAgent},test:function(t){return this.toString().toLowerCase().indexOf(t.toLowerCase())>-1}};ua.version=(ua.toString().toLowerCase().match(/[\s\S]+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[])[1],ua.webkit=ua.test("webkit"),ua.gecko=ua.test("gecko")&&!ua.webkit,ua.opera=ua.test("opera"),ua.ie=ua.test("msie")&&!ua.opera,ua.ie6=ua.ie&&document.compatMode&&"undefined"==typeof document.documentElement.style.maxHeight,ua.ie7=ua.ie&&document.documentElement&&"undefined"!=typeof document.documentElement.style.maxHeight&&"undefined"==typeof XDomainRequest,ua.ie8=ua.ie&&"undefined"!=typeof XDomainRequest;var domReady=function(){var t=[],e=function(){if(!arguments.callee.done){arguments.callee.done=!0;for(var e=0;e<t.length;e++)t[e]()}};return document.addEventListener&&document.addEventListener("DOMContentLoaded",e,!1),ua.ie&&(!function(){try{document.documentElement.doScroll("left")}catch(t){return void setTimeout(arguments.callee,50)}e()}(),document.onreadystatechange=function(){"complete"===document.readyState&&(document.onreadystatechange=null,e())}),ua.webkit&&document.readyState&&!function(){"loading"!==document.readyState?e():setTimeout(arguments.callee,10)}(),window.onload=e,function(e){return"function"==typeof e&&(t[t.length]=e),e}}(),cssHelper=function(){var t,e={BLOCKS:/[^\s{;][^{;]*\{(?:[^{}]*\{[^{}]*\}[^{}]*|[^{}]*)*\}/g,BLOCKS_INSIDE:/[^\s{][^{]*\{[^{}]*\}/g,DECLARATIONS:/[a-zA-Z\-]+[^;]*:[^;]+;/g,RELATIVE_URLS:/url\(['"]?([^\/\)'"][^:\)'"]+)['"]?\)/g,REDUNDANT_COMPONENTS:/(?:\/\*([^*\\\\]|\*(?!\/))+\*\/|@import[^;]+;)/g,REDUNDANT_WHITESPACE:/\s*(,|:|;|\{|\})\s*/g,WHITESPACE_IN_PARENTHESES:/\(\s*(\S*)\s*\)/g,MORE_WHITESPACE:/\s{2,}/g,FINAL_SEMICOLONS:/;\}/g,NOT_WHITESPACE:/\S+/g},n=!1,o=[],r=function(t){"function"==typeof t&&(o[o.length]=t)},s=function(){for(var e=0;e<o.length;e++)o[e](t)},a={},u=function(t,e){if(a[t]){var n=a[t].listeners;if(n)for(var i=0;i<n.length;i++)n[i](e)}},l=function(t,e,n){if(ua.ie&&!window.XMLHttpRequest&&(window.XMLHttpRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")}),!XMLHttpRequest)return"";var i=new XMLHttpRequest;try{i.open("get",t,!0),i.setRequestHeader("X_REQUESTED_WITH","XMLHttpRequest")}catch(t){return void n()}var o=!1;setTimeout(function(){o=!0},5e3),document.documentElement.style.cursor="progress",i.onreadystatechange=function(){4!==i.readyState||o||(!i.status&&"file:"===location.protocol||i.status>=200&&i.status<300||304===i.status||navigator.userAgent.indexOf("Safari")>-1&&"undefined"==typeof i.status?e(i.responseText):n(),document.documentElement.style.cursor="",i=null)},i.send("")},f=function(t){return t=t.replace(e.REDUNDANT_COMPONENTS,""),t=t.replace(e.REDUNDANT_WHITESPACE,"$1"),t=t.replace(e.WHITESPACE_IN_PARENTHESES,"($1)"),t=t.replace(e.MORE_WHITESPACE," "),t=t.replace(e.FINAL_SEMICOLONS,"}")},c={stylesheet:function(t){var n={},i=[],o=[],r=[],s=[],a=t.cssHelperText,u=t.getAttribute("media");if(u)var l=u.toLowerCase().split(",");else var l=["all"];for(var f=0;f<l.length;f++)i[i.length]=c.mediaQuery(l[f],n);var d=a.match(e.BLOCKS);if(null!==d)for(var f=0;f<d.length;f++)if("@media "===d[f].substring(0,7)){var h=c.mediaQueryList(d[f],n);r=r.concat(h.getRules()),o[o.length]=h}else r[r.length]=s[s.length]=c.rule(d[f],n,null);return n.element=t,n.getCssText=function(){return a},n.getAttrMediaQueries=function(){return i},n.getMediaQueryLists=function(){return o},n.getRules=function(){return r},n.getRulesWithoutMQ=function(){return s},n},mediaQueryList:function(t,n){var i={},o=t.indexOf("{"),r=t.substring(0,o);t=t.substring(o+1,t.length-1);for(var s=[],a=[],u=r.toLowerCase().substring(7).split(","),l=0;l<u.length;l++)s[s.length]=c.mediaQuery(u[l],i);var f=t.match(e.BLOCKS_INSIDE);if(null!==f)for(l=0;l<f.length;l++)a[a.length]=c.rule(f[l],n,i);return i.type="mediaQueryList",i.getMediaQueries=function(){return s},i.getRules=function(){return a},i.getListText=function(){return r},i.getCssText=function(){return t},i},mediaQuery:function(t,n){t=t||"";var i,o;"mediaQueryList"===n.type?i=n:o=n;for(var r,s=!1,a=[],u=!0,l=t.match(e.NOT_WHITESPACE),f=0;f<l.length;f++){var c=l[f];if(r||"not"!==c&&"only"!==c)if(r){if("("===c.charAt(0)){var d=c.substring(1,c.length-1).split(":");a[a.length]={mediaFeature:d[0],value:d[1]||null}}}else r=c;else"not"===c&&(s=!0)}return{getQueryText:function(){return t},getAttrStyleSheet:function(){return o||null},getList:function(){return i||null},getValid:function(){return u},getNot:function(){return s},getMediaType:function(){return r},getExpressions:function(){return a}}},rule:function(t,e,n){for(var i={},o=t.indexOf("{"),r=t.substring(0,o),s=r.split(","),a=[],u=t.substring(o+1,t.length-1).split(";"),l=0;l<u.length;l++)a[a.length]=c.declaration(u[l],i);return i.getStylesheet=function(){return e||null},i.getMediaQueryList=function(){return n||null},i.getSelectors=function(){return s},i.getSelectorText=function(){return r},i.getDeclarations=function(){return a},i.getPropertyValue=function(t){for(var e=0;e<a.length;e++)if(a[e].getProperty()===t)return a[e].getValue();return null},i},declaration:function(t,e){var n=t.indexOf(":"),i=t.substring(0,n),o=t.substring(n+1);return{getRule:function(){return e||null},getProperty:function(){return i},getValue:function(){return o}}}},d=function(e){if("string"==typeof e.cssHelperText){var n={stylesheet:null,mediaQueryLists:[],rules:[],selectors:{},declarations:[],properties:{}},o=n.stylesheet=c.stylesheet(e),r=(n.mediaQueryLists=o.getMediaQueryLists(),n.rules=o.getRules()),s=n.selectors,a=function(t){for(var e=t.getSelectors(),n=0;n<e.length;n++){var i=e[n];s[i]||(s[i]=[]),s[i][s[i].length]=t}};for(i=0;i<r.length;i++)a(r[i]);var u=n.declarations;for(i=0;i<r.length;i++)u=n.declarations=u.concat(r[i].getDeclarations());var l=n.properties;for(i=0;i<u.length;i++){var f=u[i].getProperty();l[f]||(l[f]=[]),l[f][l[f].length]=u[i]}return e.cssHelperParsed=n,t[t.length]=e,n}},h=function(t,e){},p=function(){n=!0,t=[];for(var i=[],o=function(){for(var t=0;t<i.length;t++)d(i[t]);var e=document.getElementsByTagName("style");for(t=0;t<e.length;t++)h(e[t]);n=!1,s()},r=document.getElementsByTagName("link"),a=0;a<r.length;a++){var u=r[a];u.getAttribute("rel").indexOf("style")>-1&&u.href&&0!==u.href.length&&!u.disabled&&(i[i.length]=u)}if(i.length>0){var c=0,p=function(){c++,c===i.length&&o()},m=function(t){var n=t.href;l(n,function(i){i=f(i).replace(e.RELATIVE_URLS,"url("+n.substring(0,n.lastIndexOf("/"))+"/$1)"),t.cssHelperText=i,p()},p)};for(a=0;a<i.length;a++)m(i[a])}else o()},m={stylesheets:"array",mediaQueryLists:"array",rules:"array",selectors:"object",declarations:"array",properties:"object"},y={stylesheets:null,mediaQueryLists:null,rules:null,selectors:null,declarations:null,properties:null},g=function(t,e){if(null!==y[t]){if("array"===m[t])return y[t]=y[t].concat(e);var n=y[t];for(var i in e)e.hasOwnProperty(i)&&(n[i]?n[i]=n[i].concat(e[i]):n[i]=e[i]);return n}},v=function(e){y[e]="array"===m[e]?[]:{};for(var n=0;n<t.length;n++){var i="stylesheets"===e?"stylesheet":e;g(e,t[n].cssHelperParsed[i])}return y[e]},b=function(t){return"undefined"!=typeof window.innerWidth?window["inner"+t]:"undefined"!=typeof document.documentElement&&"undefined"!=typeof document.documentElement.clientWidth&&0!=document.documentElement.clientWidth?document.documentElement["client"+t]:void 0};return{addStyle:function(t,e,n){var i=document.createElement("style");return i.setAttribute("type","text/css"),e&&e.length>0&&i.setAttribute("media",e.join(",")),document.getElementsByTagName("head")[0].appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t)),i.addedWithCssHelper=!0,"undefined"==typeof n||n===!0?cssHelper.parsed(function(e){var n=h(i,t);for(var o in n)n.hasOwnProperty(o)&&g(o,n[o]);u("newStyleParsed",i)}):i.parsingDisallowed=!0,i},removeStyle:function(t){return t.parentNode.removeChild(t)},parsed:function(e){n?r(e):"undefined"!=typeof t?"function"==typeof e&&e(t):(r(e),p())},stylesheets:function(t){cssHelper.parsed(function(e){t(y.stylesheets||v("stylesheets"))})},mediaQueryLists:function(t){cssHelper.parsed(function(e){t(y.mediaQueryLists||v("mediaQueryLists"))})},rules:function(t){cssHelper.parsed(function(e){t(y.rules||v("rules"))})},selectors:function(t){cssHelper.parsed(function(e){t(y.selectors||v("selectors"))})},declarations:function(t){cssHelper.parsed(function(e){t(y.declarations||v("declarations"))})},properties:function(t){cssHelper.parsed(function(e){t(y.properties||v("properties"))})},broadcast:u,addListener:function(t,e){"function"==typeof e&&(a[t]||(a[t]={listeners:[]}),a[t].listeners[a[t].listeners.length]=e)},removeListener:function(t,e){if("function"==typeof e&&a[t])for(var n=a[t].listeners,i=0;i<n.length;i++)n[i]===e&&(n.splice(i,1),i-=1)},getViewportWidth:function(){return b("Width")},getViewportHeight:function(){return b("Height")}}}();domReady(function(){var t,e={LENGTH_UNIT:/[0-9]+(em|ex|px|in|cm|mm|pt|pc)$/,RESOLUTION_UNIT:/[0-9]+(dpi|dpcm)$/,ASPECT_RATIO:/^[0-9]+\/[0-9]+$/,ABSOLUTE_VALUE:/^[0-9]*(\.[0-9]+)*$/},n=[],i=function(){var t="css3-mediaqueries-test",e=document.createElement("div");e.id=t;var n=cssHelper.addStyle("@media all and (width) { #"+t+" { width: 1px !important; } }",[],!1);document.body.appendChild(e);var o=1===e.offsetWidth;return n.parentNode.removeChild(n),e.parentNode.removeChild(e),i=function(){return o},o},o=function(){t=document.createElement("div"),t.style.cssText="position:absolute;top:-9999em;left:-9999em;margin:0;border:none;padding:0;width:1em;font-size:1em;",document.body.appendChild(t),16!==t.offsetWidth&&(t.style.fontSize=16/t.offsetWidth+"em"),t.style.width=""},r=function(e){t.style.width=e;var n=t.offsetWidth;return t.style.width="",n},s=function(t,n){var i=t.length,o="min-"===t.substring(0,4),s=!o&&"max-"===t.substring(0,4);if(null!==n){var a,u;if(e.LENGTH_UNIT.exec(n))a="length",u=r(n);else if(e.RESOLUTION_UNIT.exec(n)){a="resolution",u=parseInt(n,10);var l=n.substring((u+"").length)}else e.ASPECT_RATIO.exec(n)?(a="aspect-ratio",u=n.split("/")):e.ABSOLUTE_VALUE?(a="absolute",u=n):a="unknown"}var f,c;if("device-width"===t.substring(i-12,i))return f=screen.width,null!==n?"length"===a&&(o&&f>=u||s&&f<u||!o&&!s&&f===u):f>0;if("device-height"===t.substring(i-13,i))return c=screen.height,null!==n?"length"===a&&(o&&c>=u||s&&c<u||!o&&!s&&c===u):c>0;if("width"===t.substring(i-5,i))return f=document.documentElement.clientWidth||document.body.clientWidth,null!==n?"length"===a&&(o&&f>=u||s&&f<u||!o&&!s&&f===u):f>0;if("height"===t.substring(i-6,i))return c=document.documentElement.clientHeight||document.body.clientHeight,null!==n?"length"===a&&(o&&c>=u||s&&c<u||!o&&!s&&c===u):c>0;if("device-aspect-ratio"===t.substring(i-19,i))return"aspect-ratio"===a&&screen.width*u[1]===screen.height*u[0];if("color-index"===t.substring(i-11,i)){var d=Math.pow(2,screen.colorDepth);return null!==n?"absolute"===a&&(o&&d>=u||s&&d<u||!o&&!s&&d===u):d>0}if("color"===t.substring(i-5,i)){var h=screen.colorDepth;return null!==n?"absolute"===a&&(o&&h>=u||s&&h<u||!o&&!s&&h===u):h>0}if("resolution"===t.substring(i-10,i)){var p;return p=r("dpcm"===l?"1cm":"1in"),null!==n?"resolution"===a&&(o&&p>=u||s&&p<u||!o&&!s&&p===u):p>0}return!1},a=function(t){var e=t.getValid(),n=t.getExpressions(),i=n.length;if(i>0){for(var o=0;o<i&&e;o++)e=s(n[o].mediaFeature,n[o].value);var r=t.getNot();return e&&!r||r&&!e}return e},u=function(t,e){for(var i=t.getMediaQueries(),o={},r=0;r<i.length;r++){var s=i[r].getMediaType();if(0!==i[r].getExpressions().length){var u=!0;if("all"!==s&&e&&e.length>0){u=!1;for(var l=0;l<e.length;l++)e[l]===s&&(u=!0)}u&&a(i[r])&&(o[s]=!0)}}var f=[],c=0;for(var d in o)o.hasOwnProperty(d)&&(c>0&&(f[c++]=","),f[c++]=d);f.length>0&&(n[n.length]=cssHelper.addStyle("@media "+f.join("")+"{"+t.getCssText()+"}",e,!1))},l=function(t,e){for(var n=0;n<t.length;n++)u(t[n],e)},f=function(t){for(var e=t.getAttrMediaQueries(),i=!1,o={},r=0;r<e.length;r++)a(e[r])&&(o[e[r].getMediaType()]=e[r].getExpressions().length>0);var s=[],u=[];for(var f in o)o.hasOwnProperty(f)&&(s[s.length]=f,o[f]&&(u[u.length]=f),"all"===f&&(i=!0));u.length>0&&(n[n.length]=cssHelper.addStyle(t.getCssText(),u,!1));var c=t.getMediaQueryLists();i?l(c):l(c,s)},c=function(t){for(var e=0;e<t.length;e++)f(t[e]);ua.ie?(document.documentElement.style.display="block",setTimeout(function(){document.documentElement.style.display=""},0),setTimeout(function(){cssHelper.broadcast("cssMediaQueriesTested")},100)):cssHelper.broadcast("cssMediaQueriesTested")},d=function(){for(var t=0;t<n.length;t++)cssHelper.removeStyle(n[t]);n=[],cssHelper.stylesheets(c)},h=0,p=function(){var t=cssHelper.getViewportWidth(),e=cssHelper.getViewportHeight();if(ua.ie){var n=document.createElement("div");n.style.position="absolute",n.style.top="-9999em",n.style.overflow="scroll",document.body.appendChild(n),h=n.offsetWidth-n.clientWidth,document.body.removeChild(n)}var o,r=function(){var n=cssHelper.getViewportWidth(),r=cssHelper.getViewportHeight();(Math.abs(n-t)>h||Math.abs(r-e)>h)&&(t=n,e=r,clearTimeout(o),o=setTimeout(function(){i()?cssHelper.broadcast("cssMediaQueriesTested"):d()},500))};window.onresize=function(){var t=window.onresize||function(){};return function(){t(),r()}}()},m=document.documentElement;return m.style.marginLeft="-32767px",setTimeout(function(){m.style.marginLeft=""},5e3),function(){i()?m.style.marginLeft="":(cssHelper.addListener("newStyleParsed",function(t){f(t.cssHelperParsed.stylesheet)}),cssHelper.addListener("cssMediaQueriesTested",function(){ua.ie&&(m.style.width="1px"),setTimeout(function(){m.style.width="",m.style.marginLeft=""},0),cssHelper.removeListener("cssMediaQueriesTested",arguments.callee)}),o(),d()),p()}}());try{document.execCommand("BackgroundImageCache",!1,!0)}catch(t){}!function(t){function e(){}function n(t){function n(e){e.prototype.option||(e.prototype.option=function(e){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))})}function o(e,n){t.fn[e]=function(o){if("string"==typeof o){for(var s=i.call(arguments,1),a=0,u=this.length;a<u;a++){var l=this[a],f=t.data(l,e);if(f)if(t.isFunction(f[o])&&"_"!==o.charAt(0)){var c=f[o].apply(f,s);if(void 0!==c)return c}else r("no such method '"+o+"' for "+e+" instance");else r("cannot call methods on "+e+" prior to initialization; attempted to call '"+o+"'")}return this}return this.each(function(){var i=t.data(this,e);i?(i.option(o),i._init()):(i=new n(this,o),t.data(this,e,i))})}}if(t){var r="undefined"==typeof console?e:function(t){console.error(t)};return t.bridget=function(t,e){n(e),o(t,e)},t.bridget}}var i=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],n):n("object"==typeof exports?require("jquery"):t.jQuery)}(window),function(t){function e(e){var n=t.event;return n.target=n.target||n.srcElement||e,n}var n=document.documentElement,i=function(){};n.addEventListener?i=function(t,e,n){t.addEventListener(e,n,!1)}:n.attachEvent&&(i=function(t,n,i){t[n+i]=i.handleEvent?function(){var n=e(t);i.handleEvent.call(i,n)}:function(){var n=e(t);i.call(t,n)},t.attachEvent("on"+n,t[n+i])});var o=function(){};n.removeEventListener?o=function(t,e,n){t.removeEventListener(e,n,!1)}:n.detachEvent&&(o=function(t,e,n){t.detachEvent("on"+e,t[e+n]);try{delete t[e+n]}catch(i){t[e+n]=void 0}});var r={bind:i,unbind:o};"function"==typeof define&&define.amd?define("eventie/eventie",r):"object"==typeof exports?module.exports=r:t.eventie=r}(window),function(){function t(){}function e(t,e){for(var n=t.length;n--;)if(t[n].listener===e)return n;return-1}function n(t){return function(){return this[t].apply(this,arguments)}}var i=t.prototype,o=this,r=o.EventEmitter;i.getListeners=function(t){var e,n,i=this._getEvents();if(t instanceof RegExp){e={};for(n in i)i.hasOwnProperty(n)&&t.test(n)&&(e[n]=i[n])}else e=i[t]||(i[t]=[]);return e},i.flattenListeners=function(t){var e,n=[];for(e=0;e<t.length;e+=1)n.push(t[e].listener);return n},i.getListenersAsObject=function(t){var e,n=this.getListeners(t);return n instanceof Array&&(e={},e[t]=n),e||n},i.addListener=function(t,n){var i,o=this.getListenersAsObject(t),r="object"==typeof n;for(i in o)o.hasOwnProperty(i)&&e(o[i],n)===-1&&o[i].push(r?n:{listener:n,once:!1});return this},i.on=n("addListener"),i.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},i.once=n("addOnceListener"),i.defineEvent=function(t){return this.getListeners(t),this},i.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},i.removeListener=function(t,n){var i,o,r=this.getListenersAsObject(t);for(o in r)r.hasOwnProperty(o)&&(i=e(r[o],n),i!==-1&&r[o].splice(i,1));
return this},i.off=n("removeListener"),i.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},i.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},i.manipulateListeners=function(t,e,n){var i,o,r=t?this.removeListener:this.addListener,s=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(i=n.length;i--;)r.call(this,e,n[i]);else for(i in e)e.hasOwnProperty(i)&&(o=e[i])&&("function"==typeof o?r.call(this,i,o):s.call(this,i,o));return this},i.removeEvent=function(t){var e,n=typeof t,i=this._getEvents();if("string"===n)delete i[t];else if(t instanceof RegExp)for(e in i)i.hasOwnProperty(e)&&t.test(e)&&delete i[e];else delete this._events;return this},i.removeAllListeners=n("removeEvent"),i.emitEvent=function(t,e){var n,i,o,r,s=this.getListenersAsObject(t);for(o in s)if(s.hasOwnProperty(o))for(i=s[o].length;i--;)n=s[o][i],n.once===!0&&this.removeListener(t,n.listener),r=n.listener.apply(this,e||[]),r===this._getOnceReturnValue()&&this.removeListener(t,n.listener);return this},i.trigger=n("emitEvent"),i.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},i.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},i._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},i._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return o.EventEmitter=r,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:o.EventEmitter=t}.call(this),function(t){function e(t){if(t){if("string"==typeof i[t])return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e,o=0,r=n.length;o<r;o++)if(e=n[o]+t,"string"==typeof i[e])return e}}var n="Webkit Moz ms Ms O".split(" "),i=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return e}):"object"==typeof exports?module.exports=e:t.getStyleProperty=e}(window),function(t,e){function n(t){var e=parseFloat(t),n=t.indexOf("%")===-1&&!isNaN(e);return n&&e}function i(){}function o(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0,n=a.length;e<n;e++){var i=a[e];t[i]=0}return t}function r(e){function i(){if(!d){d=!0;var i=t.getComputedStyle;if(l=function(){var t=i?function(t){return i(t,null)}:function(t){return t.currentStyle};return function(e){var n=t(e);return n||s("Style returned "+n+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),n}}(),f=e("boxSizing")){var o=document.createElement("div");o.style.width="200px",o.style.padding="1px 2px 3px 4px",o.style.borderStyle="solid",o.style.borderWidth="1px 2px 3px 4px",o.style[f]="border-box";var r=document.body||document.documentElement;r.appendChild(o);var a=l(o);c=200===n(a.width),r.removeChild(o)}}}function r(t){if(i(),"string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var e=l(t);if("none"===e.display)return o();var r={};r.width=t.offsetWidth,r.height=t.offsetHeight;for(var s=r.isBorderBox=!(!f||!e[f]||"border-box"!==e[f]),d=0,h=a.length;d<h;d++){var p=a[d],m=e[p];m=u(t,m);var y=parseFloat(m);r[p]=isNaN(y)?0:y}var g=r.paddingLeft+r.paddingRight,v=r.paddingTop+r.paddingBottom,b=r.marginLeft+r.marginRight,E=r.marginTop+r.marginBottom,w=r.borderLeftWidth+r.borderRightWidth,x=r.borderTopWidth+r.borderBottomWidth,T=s&&c,L=n(e.width);L!==!1&&(r.width=L+(T?0:g+w));var S=n(e.height);return S!==!1&&(r.height=S+(T?0:v+x)),r.innerWidth=r.width-(g+w),r.innerHeight=r.height-(v+x),r.outerWidth=r.width+b,r.outerHeight=r.height+E,r}}function u(e,n){if(t.getComputedStyle||n.indexOf("%")===-1)return n;var i=e.style,o=i.left,r=e.runtimeStyle,s=r&&r.left;return s&&(r.left=e.currentStyle.left),i.left=n,n=i.pixelLeft,i.left=o,s&&(r.left=s),n}var l,f,c,d=!1;return r}var s="undefined"==typeof console?i:function(t){console.error(t)},a=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],r):"object"==typeof exports?module.exports=r(require("desandro-get-style-property")):t.getSize=r(t.getStyleProperty)}(window),function(t){function e(t){"function"==typeof t&&(e.isReady?t():s.push(t))}function n(t){var n="readystatechange"===t.type&&"complete"!==r.readyState;e.isReady||n||i()}function i(){e.isReady=!0;for(var t=0,n=s.length;t<n;t++){var i=s[t];i()}}function o(o){return"complete"===r.readyState?i():(o.bind(r,"DOMContentLoaded",n),o.bind(r,"readystatechange",n),o.bind(t,"load",n)),e}var r=t.document,s=[];e.isReady=!1,"function"==typeof define&&define.amd?define("doc-ready/doc-ready",["eventie/eventie"],o):"object"==typeof exports?module.exports=o(require("eventie")):t.docReady=o(t.eventie)}(window),function(t){function e(t,e){return t[s](e)}function n(t){if(!t.parentNode){var e=document.createDocumentFragment();e.appendChild(t)}}function i(t,e){n(t);for(var i=t.parentNode.querySelectorAll(e),o=0,r=i.length;o<r;o++)if(i[o]===t)return!0;return!1}function o(t,i){return n(t),e(t,i)}var r,s=function(){if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],n=0,i=e.length;n<i;n++){var o=e[n],r=o+"MatchesSelector";if(t[r])return r}}();if(s){var a=document.createElement("div"),u=e(a,"div");r=u?e:o}else r=i;"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return r}):"object"==typeof exports?module.exports=r:window.matchesSelector=r}(Element.prototype),function(t,e){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["doc-ready/doc-ready","matches-selector/matches-selector"],function(n,i){return e(t,n,i)}):"object"==typeof exports?module.exports=e(t,require("doc-ready"),require("desandro-matches-selector")):t.fizzyUIUtils=e(t,t.docReady,t.matchesSelector)}(window,function(t,e,n){var i={};i.extend=function(t,e){for(var n in e)t[n]=e[n];return t},i.modulo=function(t,e){return(t%e+e)%e};var o=Object.prototype.toString;i.isArray=function(t){return"[object Array]"==o.call(t)},i.makeArray=function(t){var e=[];if(i.isArray(t))e=t;else if(t&&"number"==typeof t.length)for(var n=0,o=t.length;n<o;n++)e.push(t[n]);else e.push(t);return e},i.indexOf=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},i.removeFrom=function(t,e){var n=i.indexOf(t,e);n!=-1&&t.splice(n,1)},i.isElement="function"==typeof HTMLElement||"object"==typeof HTMLElement?function(t){return t instanceof HTMLElement}:function(t){return t&&"object"==typeof t&&1==t.nodeType&&"string"==typeof t.nodeName},i.setText=function(){function t(t,n){e=e||(void 0!==document.documentElement.textContent?"textContent":"innerText"),t[e]=n}var e;return t}(),i.getParent=function(t,e){for(;t!=document.body;)if(t=t.parentNode,n(t,e))return t},i.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.filterFindElements=function(t,e){t=i.makeArray(t);for(var o=[],r=0,s=t.length;r<s;r++){var a=t[r];if(i.isElement(a))if(e){n(a,e)&&o.push(a);for(var u=a.querySelectorAll(e),l=0,f=u.length;l<f;l++)o.push(u[l])}else o.push(a)}return o},i.debounceMethod=function(t,e,n){var i=t.prototype[e],o=e+"Timeout";t.prototype[e]=function(){var t=this[o];t&&clearTimeout(t);var e=arguments,r=this;this[o]=setTimeout(function(){i.apply(r,e),delete r[o]},n||100)}},i.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,n){return e+"-"+n}).toLowerCase()};var r=t.console;return i.htmlInit=function(n,o){e(function(){for(var e=i.toDashed(o),s=document.querySelectorAll(".js-"+e),a="data-"+e+"-options",u=0,l=s.length;u<l;u++){var f,c=s[u],d=c.getAttribute(a);try{f=d&&JSON.parse(d)}catch(t){r&&r.error("Error parsing "+a+" on "+c.nodeName.toLowerCase()+(c.id?"#"+c.id:"")+": "+t);continue}var h=new n(c,f),p=t.jQuery;p&&p.data(c,o,h)}})},i}),function(t,e){"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property","fizzy-ui-utils/utils"],function(n,i,o,r){return e(t,n,i,o,r)}):"object"==typeof exports?module.exports=e(t,require("wolfy87-eventemitter"),require("get-size"),require("desandro-get-style-property"),require("fizzy-ui-utils")):(t.Outlayer={},t.Outlayer.Item=e(t,t.EventEmitter,t.getSize,t.getStyleProperty,t.fizzyUIUtils))}(window,function(t,e,n,i,o){function r(t){for(var e in t)return!1;return e=null,!0}function s(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}function a(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}var u=t.getComputedStyle,l=u?function(t){return u(t,null)}:function(t){return t.currentStyle},f=i("transition"),c=i("transform"),d=f&&c,h=!!i("perspective"),p={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[f],m=["transform","transition","transitionDuration","transitionProperty"],y=function(){for(var t={},e=0,n=m.length;e<n;e++){var o=m[e],r=i(o);r&&r!==o&&(t[o]=r)}return t}();o.extend(s.prototype,e.prototype),s.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},s.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},s.prototype.getSize=function(){this.size=n(this.element)},s.prototype.css=function(t){var e=this.element.style;for(var n in t){var i=y[n]||n;e[i]=t[n]}},s.prototype.getPosition=function(){var t=l(this.element),e=this.layout.options,n=e.isOriginLeft,i=e.isOriginTop,o=t[n?"left":"right"],r=t[i?"top":"bottom"],s=this.layout.size,a=o.indexOf("%")!=-1?parseFloat(o)/100*s.width:parseInt(o,10),u=r.indexOf("%")!=-1?parseFloat(r)/100*s.height:parseInt(r,10);a=isNaN(a)?0:a,u=isNaN(u)?0:u,a-=n?s.paddingLeft:s.paddingRight,u-=i?s.paddingTop:s.paddingBottom,this.position.x=a,this.position.y=u},s.prototype.layoutPosition=function(){var t=this.layout.size,e=this.layout.options,n={},i=e.isOriginLeft?"paddingLeft":"paddingRight",o=e.isOriginLeft?"left":"right",r=e.isOriginLeft?"right":"left",s=this.position.x+t[i];n[o]=this.getXValue(s),n[r]="";var a=e.isOriginTop?"paddingTop":"paddingBottom",u=e.isOriginTop?"top":"bottom",l=e.isOriginTop?"bottom":"top",f=this.position.y+t[a];n[u]=this.getYValue(f),n[l]="",this.css(n),this.emitEvent("layout",[this])},s.prototype.getXValue=function(t){var e=this.layout.options;return e.percentPosition&&!e.isHorizontal?t/this.layout.size.width*100+"%":t+"px"},s.prototype.getYValue=function(t){var e=this.layout.options;return e.percentPosition&&e.isHorizontal?t/this.layout.size.height*100+"%":t+"px"},s.prototype._transitionTo=function(t,e){this.getPosition();var n=this.position.x,i=this.position.y,o=parseInt(t,10),r=parseInt(e,10),s=o===this.position.x&&r===this.position.y;if(this.setPosition(t,e),s&&!this.isTransitioning)return void this.layoutPosition();var a=t-n,u=e-i,l={};l.transform=this.getTranslate(a,u),this.transition({to:l,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},s.prototype.getTranslate=function(t,e){var n=this.layout.options;return t=n.isOriginLeft?t:-t,e=n.isOriginTop?e:-e,h?"translate3d("+t+"px, "+e+"px, 0)":"translate("+t+"px, "+e+"px)"},s.prototype.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},s.prototype.moveTo=d?s.prototype._transitionTo:s.prototype.goTo,s.prototype.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},s.prototype._nonTransition=function(t){this.css(t.to),t.isCleaning&&this._removeStyles(t.to);for(var e in t.onTransitionEnd)t.onTransitionEnd[e].call(this)},s.prototype._transition=function(t){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(t);var e=this._transn;for(var n in t.onTransitionEnd)e.onEnd[n]=t.onTransitionEnd[n];for(n in t.to)e.ingProperties[n]=!0,t.isCleaning&&(e.clean[n]=!0);if(t.from){this.css(t.from);var i=this.element.offsetHeight;i=null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0};var g="opacity,"+a(y.transform||"transform");s.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:g,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(p,this,!1))},s.prototype.transition=s.prototype[f?"_transition":"_nonTransition"],s.prototype.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},s.prototype.onotransitionend=function(t){this.ontransitionend(t)};var v={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};s.prototype.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,n=v[t.propertyName]||t.propertyName;if(delete e.ingProperties[n],r(e.ingProperties)&&this.disableTransition(),n in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[n]),n in e.onEnd){var i=e.onEnd[n];i.call(this),delete e.onEnd[n]}this.emitEvent("transitionEnd",[this])}},s.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(p,this,!1),this.isTransitioning=!1},s.prototype._removeStyles=function(t){var e={};for(var n in t)e[n]="";this.css(e)};var b={transitionProperty:"",transitionDuration:""};return s.prototype.removeTransitionStyles=function(){this.css(b)},s.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},s.prototype.remove=function(){if(!f||!parseFloat(this.layout.options.transitionDuration))return void this.removeElem();var t=this;this.once("transitionEnd",function(){t.removeElem()}),this.hide()},s.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={},n=this.getHideRevealTransitionEndProperty("visibleStyle");e[n]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},s.prototype.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},s.prototype.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity)return"opacity";for(var n in e)return n},s.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={},n=this.getHideRevealTransitionEndProperty("hiddenStyle");e[n]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},s.prototype.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},s.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},s}),function(t,e){"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","eventEmitter/EventEmitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(n,i,o,r,s){return e(t,n,i,o,r,s)}):"object"==typeof exports?module.exports=e(t,require("eventie"),require("wolfy87-eventemitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):t.Outlayer=e(t,t.eventie,t.EventEmitter,t.getSize,t.fizzyUIUtils,t.Outlayer.Item)}(window,function(t,e,n,i,o,r){function s(t,e){var n=o.getQueryElement(t);if(!n)return void(a&&a.error("Bad element for "+this.constructor.namespace+": "+(n||t)));this.element=n,u&&(this.$element=u(this.element)),this.options=o.extend({},this.constructor.defaults),this.option(e);var i=++f;this.element.outlayerGUID=i,c[i]=this,this._create(),this.options.isInitLayout&&this.layout()}var a=t.console,u=t.jQuery,l=function(){},f=0,c={};return s.namespace="outlayer",s.Item=r,s.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},o.extend(s.prototype,n.prototype),s.prototype.option=function(t){o.extend(this.options,t)},s.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),o.extend(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},s.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},s.prototype._itemize=function(t){for(var e=this._filterFindItemElements(t),n=this.constructor.Item,i=[],o=0,r=e.length;o<r;o++){var s=e[o],a=new n(s,this);i.push(a)}return i},s.prototype._filterFindItemElements=function(t){return o.filterFindElements(t,this.options.itemSelector)},s.prototype.getItemElements=function(){for(var t=[],e=0,n=this.items.length;e<n;e++)t.push(this.items[e].element);return t},s.prototype.layout=function(){this._resetLayout(),this._manageStamps();var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},s.prototype._init=s.prototype.layout,s.prototype._resetLayout=function(){this.getSize()},s.prototype.getSize=function(){this.size=i(this.element)},s.prototype._getMeasurement=function(t,e){var n,r=this.options[t];r?("string"==typeof r?n=this.element.querySelector(r):o.isElement(r)&&(n=r),this[t]=n?i(n)[e]:r):this[t]=0},s.prototype.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},s.prototype._getItemsForLayout=function(t){for(var e=[],n=0,i=t.length;n<i;n++){var o=t[n];o.isIgnored||e.push(o)}return e},s.prototype._layoutItems=function(t,e){if(this._emitCompleteOnItems("layout",t),t&&t.length){for(var n=[],i=0,o=t.length;i<o;i++){var r=t[i],s=this._getItemLayoutPosition(r);s.item=r,s.isInstant=e||r.isLayoutInstant,n.push(s)}this._processLayoutQueue(n)}},s.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},s.prototype._processLayoutQueue=function(t){for(var e=0,n=t.length;e<n;e++){var i=t[e];this._positionItem(i.item,i.x,i.y,i.isInstant)}},s.prototype._positionItem=function(t,e,n,i){i?t.goTo(e,n):t.moveTo(e,n)},s.prototype._postLayout=function(){this.resizeContainer()},s.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},s.prototype._getContainerSize=l,s.prototype._setContainerMeasure=function(t,e){if(void 0!==t){var n=this.size;n.isBorderBox&&(t+=e?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},s.prototype._emitCompleteOnItems=function(t,e){function n(){o.dispatchEvent(t+"Complete",null,[e])}function i(){s++,s===r&&n()}var o=this,r=e.length;if(!e||!r)return void n();for(var s=0,a=0,u=e.length;a<u;a++){var l=e[a];l.once(t,i)}},s.prototype.dispatchEvent=function(t,e,n){var i=e?[e].concat(n):n;if(this.emitEvent(t,i),u)if(this.$element=this.$element||u(this.element),e){var o=u.Event(e);o.type=t,this.$element.trigger(o,n)}else this.$element.trigger(t,n)},s.prototype.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},s.prototype.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},s.prototype.stamp=function(t){if(t=this._find(t)){this.stamps=this.stamps.concat(t);for(var e=0,n=t.length;e<n;e++){var i=t[e];this.ignore(i)}}},s.prototype.unstamp=function(t){if(t=this._find(t))for(var e=0,n=t.length;e<n;e++){var i=t[e];o.removeFrom(this.stamps,i),this.unignore(i)}},s.prototype._find=function(t){if(t)return"string"==typeof t&&(t=this.element.querySelectorAll(t)),t=o.makeArray(t)},s.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var t=0,e=this.stamps.length;t<e;t++){var n=this.stamps[t];this._manageStamp(n)}}},s.prototype._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},s.prototype._manageStamp=l,s.prototype._getElementOffset=function(t){var e=t.getBoundingClientRect(),n=this._boundingRect,o=i(t),r={left:e.left-n.left-o.marginLeft,top:e.top-n.top-o.marginTop,right:n.right-e.right-o.marginRight,bottom:n.bottom-e.bottom-o.marginBottom};return r},s.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},s.prototype.bindResize=function(){this.isResizeBound||(e.bind(t,"resize",this),this.isResizeBound=!0)},s.prototype.unbindResize=function(){this.isResizeBound&&e.unbind(t,"resize",this),this.isResizeBound=!1},s.prototype.onresize=function(){function t(){e.resize(),delete e.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var e=this;this.resizeTimeout=setTimeout(t,100)},s.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},s.prototype.needsResizeLayout=function(){var t=i(this.element),e=this.size&&t;return e&&t.innerWidth!==this.size.innerWidth},s.prototype.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},s.prototype.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},s.prototype.prepended=function(t){var e=this._itemize(t);if(e.length){var n=this.items.slice(0);this.items=e.concat(n),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(n)}},s.prototype.reveal=function(t){this._emitCompleteOnItems("reveal",t);for(var e=t&&t.length,n=0;e&&n<e;n++){var i=t[n];i.reveal()}},s.prototype.hide=function(t){this._emitCompleteOnItems("hide",t);for(var e=t&&t.length,n=0;e&&n<e;n++){var i=t[n];i.hide()}},s.prototype.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},s.prototype.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)},s.prototype.getItem=function(t){for(var e=0,n=this.items.length;e<n;e++){var i=this.items[e];if(i.element===t)return i}},s.prototype.getItems=function(t){t=o.makeArray(t);for(var e=[],n=0,i=t.length;n<i;n++){var r=t[n],s=this.getItem(r);s&&e.push(s)}return e},s.prototype.remove=function(t){var e=this.getItems(t);if(this._emitCompleteOnItems("remove",e),e&&e.length)for(var n=0,i=e.length;n<i;n++){var r=e[n];r.remove(),o.removeFrom(this.items,r)}},s.prototype.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="";for(var e=0,n=this.items.length;e<n;e++){var i=this.items[e];i.destroy()}this.unbindResize();var o=this.element.outlayerGUID;delete c[o],delete this.element.outlayerGUID,u&&u.removeData(this.element,this.constructor.namespace)},s.data=function(t){t=o.getQueryElement(t);var e=t&&t.outlayerGUID;return e&&c[e]},s.create=function(t,e){function n(){s.apply(this,arguments)}return Object.create?n.prototype=Object.create(s.prototype):o.extend(n.prototype,s.prototype),n.prototype.constructor=n,n.defaults=o.extend({},s.defaults),o.extend(n.defaults,e),n.prototype.settings={},n.namespace=t,n.data=s.data,n.Item=function(){r.apply(this,arguments)},n.Item.prototype=new r,o.htmlInit(n,t),u&&u.bridget&&u.bridget(t,n),n},s.Item=r,s}),function(t,e){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","fizzy-ui-utils/utils"],e):"object"==typeof exports?module.exports=e(require("outlayer"),require("get-size"),require("fizzy-ui-utils")):t.Masonry=e(t.Outlayer,t.getSize,t.fizzyUIUtils)}(window,function(t,e,n){var i=t.create("masonry");return i.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var t=this.cols;for(this.colYs=[];t--;)this.colYs.push(0);this.maxY=0},i.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],n=t&&t.element;this.columnWidth=n&&e(n).outerWidth||this.containerWidth}var i=this.columnWidth+=this.gutter,o=this.containerWidth+this.gutter,r=o/i,s=i-o%i,a=s&&s<1?"round":"floor";r=Math[a](r),this.cols=Math.max(r,1)},i.prototype.getContainerWidth=function(){var t=this.options.isFitWidth?this.element.parentNode:this.element,n=e(t);this.containerWidth=n&&n.innerWidth},i.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,i=e&&e<1?"round":"ceil",o=Math[i](t.size.outerWidth/this.columnWidth);o=Math.min(o,this.cols);for(var r=this._getColGroup(o),s=Math.min.apply(Math,r),a=n.indexOf(r,s),u={x:this.columnWidth*a,y:s},l=s+t.size.outerHeight,f=this.cols+1-r.length,c=0;c<f;c++)this.colYs[a+c]=l;return u},i.prototype._getColGroup=function(t){if(t<2)return this.colYs;for(var e=[],n=this.cols+1-t,i=0;i<n;i++){var o=this.colYs.slice(i,i+t);e[i]=Math.max.apply(Math,o)}return e},i.prototype._manageStamp=function(t){var n=e(t),i=this._getElementOffset(t),o=this.options.isOriginLeft?i.left:i.right,r=o+n.outerWidth,s=Math.floor(o/this.columnWidth);s=Math.max(0,s);var a=Math.floor(r/this.columnWidth);a-=r%this.columnWidth?0:1,a=Math.min(this.cols-1,a);for(var u=(this.options.isOriginTop?i.top:i.bottom)+n.outerHeight,l=s;l<=a;l++)this.colYs[l]=Math.max(u,this.colYs[l])},i.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this.options.isFitWidth&&(t.width=this._getContainerFitWidth()),t},i.prototype._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},i.prototype.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!==this.containerWidth},i});